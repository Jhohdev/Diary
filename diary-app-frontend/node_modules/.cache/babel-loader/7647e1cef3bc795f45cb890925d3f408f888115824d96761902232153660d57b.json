{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport apiClient from \"../services/api.js\";\nimport FullCalendar from \"@fullcalendar/vue3\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nexport default {\n  components: {\n    FullCalendar\n  },\n  data() {\n    return {\n      calendarOptions: {\n        plugins: [dayGridPlugin],\n        initialView: \"dayGridMonth\",\n        events: [] // 여기 events를 API에서 받은 데이터로 업데이트해야 함!\n      }\n    };\n  },\n  created() {\n    this.fetchDiaries(); // 초기 데이터 로드\n  },\n  methods: {\n    formatDate(timestamp) {\n      const date = new Date(timestamp * 1000); // timestamp → 밀리초 변환\n      return date.toISOString().split(\"T\")[0]; // YYYY-MM-DD 형식 반환\n    },\n    // 다이어리 데이터 가져오기\n    fetchDiaries() {\n      apiClient.get(\"/diary\").then(response => {\n        console.log(\"Fetched diaries:\", response.data); // 원본 데이터 확인\n\n        this.calendarOptions.events = response.data.data.map(entry => {\n          console.log(\"Original timestamp:\", entry.timestamp); // timestamp 확인\n          const formattedDate = this.formatDate(entry.timestamp);\n          console.log(\"Formatted start date:\", formattedDate); // 변환된 날짜 확인\n\n          return {\n            title: entry.title,\n            start: formattedDate // 변환된 날짜 적용\n          };\n        });\n        console.log(\"Updated events:\", this.calendarOptions.events); // 최종 확인\n      }).catch(error => {\n        console.error(\"Error fetching diaries:\", error.message);\n      });\n    }\n  }\n};","map":{"version":3,"names":["apiClient","FullCalendar","dayGridPlugin","components","data","calendarOptions","plugins","initialView","events","created","fetchDiaries","methods","formatDate","timestamp","date","Date","toISOString","split","get","then","response","console","log","map","entry","formattedDate","title","start","catch","error","message"],"sources":["/Users/ojaehyeon/Diary/diary-app-frontend/src/components/CalendarList.vue"],"sourcesContent":["<template>\n  <div>\n    <FullCalendar :options=\"calendarOptions\" />\n  </div>\n</template>\n\n<script>\nimport apiClient from \"../services/api.js\";\nimport FullCalendar from \"@fullcalendar/vue3\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\n\nexport default {\n  components: {\n    FullCalendar,\n  },\n  data() {\n    return {\n      calendarOptions: {\n        plugins: [dayGridPlugin],\n        initialView: \"dayGridMonth\",\n        events: [], // 여기 events를 API에서 받은 데이터로 업데이트해야 함!\n      },\n    };\n  },\n  created() {\n    this.fetchDiaries(); // 초기 데이터 로드\n  },\n  methods: {\n    formatDate(timestamp) {\n      const date = new Date(timestamp * 1000); // timestamp → 밀리초 변환\n      return date.toISOString().split(\"T\")[0]; // YYYY-MM-DD 형식 반환\n    },\n    // 다이어리 데이터 가져오기\n    fetchDiaries() {\n    apiClient\n      .get(\"/diary\")\n      .then((response) => {\n        console.log(\"Fetched diaries:\", response.data); // 원본 데이터 확인\n\n        this.calendarOptions.events = response.data.data.map(entry => {\n          console.log(\"Original timestamp:\", entry.timestamp); // timestamp 확인\n          const formattedDate = this.formatDate(entry.timestamp);\n          console.log(\"Formatted start date:\", formattedDate); // 변환된 날짜 확인\n          \n          return {\n            title: entry.title,\n            start: formattedDate, // 변환된 날짜 적용\n          };\n        });\n\n        console.log(\"Updated events:\", this.calendarOptions.events); // 최종 확인\n      })\n      .catch((error) => {\n        console.error(\"Error fetching diaries:\", error.message);\n      });\n  }\n  }\n};\n</script>"],"mappings":";AAOA,OAAOA,SAAQ,MAAO,oBAAoB;AAC1C,OAAOC,YAAW,MAAO,oBAAoB;AAC7C,OAAOC,aAAY,MAAO,uBAAuB;AAEjD,eAAe;EACbC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,eAAe,EAAE;QACfC,OAAO,EAAE,CAACJ,aAAa,CAAC;QACxBK,WAAW,EAAE,cAAc;QAC3BC,MAAM,EAAE,EAAE,CAAE;MACd;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC,EAAE;EACvB,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAACC,SAAS,EAAE;MACpB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,SAAQ,GAAI,IAAI,CAAC,EAAE;MACzC,OAAOC,IAAI,CAACE,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;IAC3C,CAAC;IACD;IACAP,YAAYA,CAAA,EAAG;MACfV,SAAQ,CACLkB,GAAG,CAAC,QAAQ,EACZC,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,QAAQ,CAAChB,IAAI,CAAC,EAAE;;QAEhD,IAAI,CAACC,eAAe,CAACG,MAAK,GAAIY,QAAQ,CAAChB,IAAI,CAACA,IAAI,CAACmB,GAAG,CAACC,KAAI,IAAK;UAC5DH,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEE,KAAK,CAACX,SAAS,CAAC,EAAE;UACrD,MAAMY,aAAY,GAAI,IAAI,CAACb,UAAU,CAACY,KAAK,CAACX,SAAS,CAAC;UACtDQ,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEG,aAAa,CAAC,EAAE;;UAErD,OAAO;YACLC,KAAK,EAAEF,KAAK,CAACE,KAAK;YAClBC,KAAK,EAAEF,aAAa,CAAE;UACxB,CAAC;QACH,CAAC,CAAC;QAEFJ,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAACjB,eAAe,CAACG,MAAM,CAAC,EAAE;MAC/D,CAAC,EACAoB,KAAK,CAAEC,KAAK,IAAK;QAChBR,OAAO,CAACQ,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACC,OAAO,CAAC;MACzD,CAAC,CAAC;IACN;EACA;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}