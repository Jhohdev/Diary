{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache) {\n  const _component_FullCalendar = _resolveComponent(\"FullCalendar\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_FullCalendar, {\n    ref: \"calendar\",\n    options: _ctx.calendarOptions\n  }, null, 8 /* PROPS */, [\"options\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_FullCalendar","ref","options","_ctx","calendarOptions"],"sources":["/Users/ojaehyeon/Diary/diary-app-frontend/src/components/CalendarList.vue"],"sourcesContent":["<template>\n  <div>\n    <FullCalendar ref=\"calendar\" :options=\"calendarOptions\" />\n  </div>\n</template>\n\n<script>\nimport apiClient from \"../services/api.js\";\nimport FullCalendar from \"@fullcalendar/vue3\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\n\nexport default {\n  components: {\n    FullCalendar,\n  },\n  data() {\n    return {\n      calendarOptions: {\n        plugins: [dayGridPlugin],\n        initialView: \"dayGridMonth\",\n        events: [], // ì—¬ê¸° eventsë¥¼ APIì—ì„œ ë°›ì€ ë°ì´í„°ë¡œ ì—…ë°ì´íŠ¸í•´ì•¼ í•¨!\n      },\n    };\n  },\n  created() {\n    this.fetchDiaries(); // ì´ˆê¸° ë°ì´í„° ë¡œë“œ\n  },\n  methods: {\n    formatDate(created_at) {\n      if (!created_at) {\n        console.error(\"Invalid timestamp:\", created_at);\n        return null;\n      }\n\n      const date = new Date(Number(created_at) * 1000); // ìˆ«ìžë¡œ ë³€í™˜ í›„ ë°€ë¦¬ì´ˆë¡œ ë³€í™˜\n      return date.toISOString().split(\"T\")[0]; // YYYY-MM-DD í˜•ì‹ ë°˜í™˜\n    },\n    // ë‹¤ì´ì–´ë¦¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n    fetchDiaries() {\n      apiClient\n        .get(\"/diary\")\n        .then((response) => {\n          console.log(\"ðŸ“Œ Raw API Response:\", response.data); // API ì‘ë‹µ ì „ì²´ í™•ì¸\n\n          if (!response.data || !Array.isArray(response.data.data)) {\n            console.error(\"âŒ API ì‘ë‹µì´ ë°°ì—´ì´ ì•„ë‹™ë‹ˆë‹¤!\", response.data);\n            return;\n          }\n\n          console.log(\"ðŸ“Œ ë°ì´í„° ê°œìˆ˜:\", response.data.data.length); // ë°ì´í„° ê°œìˆ˜ í™•ì¸\n\n          const events = response.data.data.map(entry => {\n            console.log(\"ðŸ” Entry:\", entry); // ê°œë³„ í•­ëª© ë¡œê·¸\n            console.log(\"ðŸ“† Entry created_at:\", entry.created_at); // created_at í™•ì¸\n\n            if (!entry.created_at) {\n              console.error(\"âŒ ìž˜ëª»ëœ created_at ê°’:\", entry);\n              return null;\n            }\n\n            return {\n              title: entry.title,\n              start: this.formatDate(entry.created_at),\n            };\n          }).filter(event => event !== null); // ìœ íš¨í•˜ì§€ ì•Šì€ í•­ëª© ì œê±°\n\n          console.log(\"âœ… Events before update:\", events);\n\n          this.calendarOptions = Object.assign({}, this.calendarOptions, {\n            events: events,\n          });\n\n          console.log(\"âœ… Updated calendarOptions:\", this.calendarOptions);\n        })\n        .catch((error) => {\n          console.error(\"âŒ Error fetching diaries:\", error.message);\n        });\n    },\n    this.$nextTick(() => {\n      this.calendarOptions.events = events;\n    });\n  }\n};\n</script>"],"mappings":";;;uBACEA,mBAAA,CAEM,cADJC,YAAA,CAA0DC,uBAAA;IAA5CC,GAAG,EAAC,UAAU;IAAEC,OAAO,EAAEC,IAAA,CAAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}