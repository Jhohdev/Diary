{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport apiClient from \"../services/api.js\";\nimport FullCalendar from \"@fullcalendar/vue3\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nexport default {\n  components: {\n    FullCalendar\n  },\n  data() {\n    return {\n      calendarOptions: {\n        plugins: [dayGridPlugin],\n        initialView: \"dayGridMonth\",\n        events: []\n      }\n    };\n  },\n  created() {\n    this.fetchDiaries(); // Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  },\n  methods: {\n    // created_atÏùÑ YYYY-MM-DD ÌòïÏãùÏúºÎ°ú Î≥ÄÌôòÌïòÎäî Ìï®Ïàò\n    formatDate(created_at) {\n      if (!created_at) {\n        console.error(\"‚ùå Invalid created_at:\", created_at);\n        return null;\n      }\n\n      // created_atÏù¥ Ïà´ÏûêÏù∏ Í≤ΩÏö∞ (UNIX timestamp) ‚Üí Î≥ÄÌôò\n      if (!isNaN(created_at)) {\n        const date = new Date(Number(created_at) * 1000);\n        return date.toISOString().split(\"T\")[0]; // YYYY-MM-DD ÌòïÏãù Î∞òÌôò\n      }\n\n      // created_atÏù¥ Î¨∏ÏûêÏó¥Ïù∏ Í≤ΩÏö∞ (ISO ÌòïÏãù) ‚Üí Í∑∏ÎåÄÎ°ú ÏÇ¨Ïö©\n      return created_at.split(\"T\")[0];\n    },\n    // Îã§Ïù¥Ïñ¥Î¶¨ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n    fetchDiaries() {\n      apiClient.get(\"/diary\").then(response => {\n        console.log(\"üìå Raw API Response:\", response.data); // API ÏùëÎãµ Ï†ÑÏ≤¥ ÌôïÏù∏\n\n        if (!response.data || !Array.isArray(response.data.data)) {\n          console.error(\"‚ùå API ÏùëÎãµÏù¥ Î∞∞Ïó¥Ïù¥ ÏïÑÎãôÎãàÎã§!\", response.data);\n          return;\n        }\n        console.log(\"üìå Îç∞Ïù¥ÌÑ∞ Í∞úÏàò:\", response.data.data.length); // Îç∞Ïù¥ÌÑ∞ Í∞úÏàò ÌôïÏù∏\n\n        const events = response.data.data.map(entry => {\n          console.log(\"üîç Entry:\", entry); // Í∞úÎ≥Ñ Ìï≠Î™© Î°úÍ∑∏\n          console.log(\"üìÜ Entry created_at:\", entry.created_at); // created_at ÌôïÏù∏\n\n          if (!entry.created_at) {\n            console.error(\"‚ùå ÏûòÎ™ªÎêú created_at Í∞í:\", entry);\n            return null;\n          }\n          return {\n            title: entry.title,\n            start: this.formatDate(entry.created_at)\n          };\n        }).filter(event => event !== null); // Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ Ìï≠Î™© Ï†úÍ±∞\n\n        console.log(\"‚úÖ Events before update:\", events);\n\n        // FullCalendarÍ∞Ä Î≥ÄÍ≤ΩÏùÑ Í∞êÏßÄÌïòÎèÑÎ°ù ÏÑ§Ï†ï\n        this.calendarOptions = {\n          ...this.calendarOptions,\n          events\n        };\n\n        // FullCalendar Í∞ïÏ†ú Î¶¨Î†åÎçîÎßÅ\n        this.$nextTick(() => {\n          if (this.$refs.calendar) {\n            this.$refs.calendar.getApi().refetchEvents();\n          }\n        });\n        console.log(\"‚úÖ Updated calendarOptions:\", this.calendarOptions);\n      }).catch(error => {\n        console.error(\"‚ùå Error fetching diaries:\", error.message);\n      });\n    }\n  }\n};","map":{"version":3,"names":["apiClient","FullCalendar","dayGridPlugin","components","data","calendarOptions","plugins","initialView","events","created","fetchDiaries","methods","formatDate","created_at","console","error","isNaN","date","Date","Number","toISOString","split","get","then","response","log","Array","isArray","length","map","entry","title","start","filter","event","$nextTick","$refs","calendar","getApi","refetchEvents","catch","message"],"sources":["/Users/ojaehyeon/Diary/diary-app-frontend/src/components/CalendarList.vue"],"sourcesContent":["<template>\n  <div>\n    <FullCalendar ref=\"calendar\" :options=\"calendarOptions\" />\n    <router-link :to=\"`/edit/${entry.id}`\">{{ entry.title }}</router-link>\n  </div>\n</template>\n\n<script>\nimport apiClient from \"../services/api.js\";\nimport FullCalendar from \"@fullcalendar/vue3\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\n\nexport default {\n  components: {\n    FullCalendar,\n  },\n  data() {\n    return {\n      calendarOptions: {\n        plugins: [dayGridPlugin],\n        initialView: \"dayGridMonth\",\n        events: [],\n      },\n    };\n  },\n  created() {\n    this.fetchDiaries(); // Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú\n  },\n  methods: {\n    // created_atÏùÑ YYYY-MM-DD ÌòïÏãùÏúºÎ°ú Î≥ÄÌôòÌïòÎäî Ìï®Ïàò\n    formatDate(created_at) {\n      if (!created_at) {\n        console.error(\"‚ùå Invalid created_at:\", created_at);\n        return null;\n      }\n\n      // created_atÏù¥ Ïà´ÏûêÏù∏ Í≤ΩÏö∞ (UNIX timestamp) ‚Üí Î≥ÄÌôò\n      if (!isNaN(created_at)) {\n        const date = new Date(Number(created_at) * 1000);\n        return date.toISOString().split(\"T\")[0]; // YYYY-MM-DD ÌòïÏãù Î∞òÌôò\n      }\n\n      // created_atÏù¥ Î¨∏ÏûêÏó¥Ïù∏ Í≤ΩÏö∞ (ISO ÌòïÏãù) ‚Üí Í∑∏ÎåÄÎ°ú ÏÇ¨Ïö©\n      return created_at.split(\"T\")[0];\n    },\n\n    // Îã§Ïù¥Ïñ¥Î¶¨ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n    fetchDiaries() {\n      apiClient\n        .get(\"/diary\")\n        .then((response) => {\n          console.log(\"üìå Raw API Response:\", response.data); // API ÏùëÎãµ Ï†ÑÏ≤¥ ÌôïÏù∏\n\n          if (!response.data || !Array.isArray(response.data.data)) {\n            console.error(\"‚ùå API ÏùëÎãµÏù¥ Î∞∞Ïó¥Ïù¥ ÏïÑÎãôÎãàÎã§!\", response.data);\n            return;\n          }\n\n          console.log(\"üìå Îç∞Ïù¥ÌÑ∞ Í∞úÏàò:\", response.data.data.length); // Îç∞Ïù¥ÌÑ∞ Í∞úÏàò ÌôïÏù∏\n\n          const events = response.data.data.map(entry => {\n            console.log(\"üîç Entry:\", entry); // Í∞úÎ≥Ñ Ìï≠Î™© Î°úÍ∑∏\n            console.log(\"üìÜ Entry created_at:\", entry.created_at); // created_at ÌôïÏù∏\n\n            if (!entry.created_at) {\n              console.error(\"‚ùå ÏûòÎ™ªÎêú created_at Í∞í:\", entry);\n              return null;\n            }\n\n            return {\n              title: entry.title,\n              start: this.formatDate(entry.created_at),\n            };\n          }).filter(event => event !== null); // Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ Ìï≠Î™© Ï†úÍ±∞\n\n          console.log(\"‚úÖ Events before update:\", events);\n\n          // FullCalendarÍ∞Ä Î≥ÄÍ≤ΩÏùÑ Í∞êÏßÄÌïòÎèÑÎ°ù ÏÑ§Ï†ï\n          this.calendarOptions = { ...this.calendarOptions, events };\n\n          // FullCalendar Í∞ïÏ†ú Î¶¨Î†åÎçîÎßÅ\n          this.$nextTick(() => {\n            if (this.$refs.calendar) {\n              this.$refs.calendar.getApi().refetchEvents();\n            }\n          });\n\n          console.log(\"‚úÖ Updated calendarOptions:\", this.calendarOptions);\n        })\n        .catch((error) => {\n          console.error(\"‚ùå Error fetching diaries:\", error.message);\n        });\n    }\n  }\n};\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}