{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_FullCalendar = _resolveComponent(\"FullCalendar\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_FullCalendar, {\n    ref: \"calendar\",\n    options: $data.calendarOptions\n  }, null, 8 /* PROPS */, [\"options\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_FullCalendar","ref","options","$data","calendarOptions"],"sources":["/Users/ojaehyeon/Diary/diary-app-frontend/src/components/CalendarList.vue"],"sourcesContent":["<template>\n  <div>\n    <FullCalendar ref=\"calendar\" :options=\"calendarOptions\" />\n  </div>\n</template>\n\n<script>\nimport apiClient from \"../services/api.js\";\nimport FullCalendar from \"@fullcalendar/vue3\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\"; // ğŸ“Œ ë‚ ì§œ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ í•„ìš”!\n\nexport default {\n  components: {\n    FullCalendar,\n  },\n  data() {\n    return {\n      calendarOptions: {\n        plugins: [dayGridPlugin, interactionPlugin], // ğŸ“Œ FullCalendar í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€\n        initialView: \"dayGridMonth\",\n        timeZone: \"local\", // âœ… FullCalendarê°€ ë¡œì»¬(KST) ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ í‘œì‹œí•˜ë„ë¡ ì„¤ì •\n        displayEventTime: false, // âœ… ì‹œê°„ í‘œì‹œë¥¼ ì œê±°í•˜ì—¬ ë‚ ì§œ ì˜¤ë¥˜ ë°©ì§€\n        events: [],\n        eventClick: this.handleEventClick, // ì¼ì • í´ë¦­ ì´ë²¤íŠ¸\n        dateClick: this.handleDateClick, // ğŸ“Œ ë‚ ì§œ í´ë¦­ ì´ë²¤íŠ¸\n      },\n    };\n  },\n  created() {\n    this.fetchDiaries();\n  },\n  methods: {\n    formatDate(created_at) {\n      if (!created_at) return null;\n\n      let date;\n\n      // âœ… `created_at`ì´ UNIX timestamp(ì´ˆ ë‹¨ìœ„)ì¼ ê²½ìš° ì²˜ë¦¬\n      if (!isNaN(created_at) && typeof created_at !== \"string\") {\n        date = new Date(Number(created_at) * 1000);\n      } else {\n        date = new Date(created_at);\n      }\n\n      // âœ… `UTC â†’ KST` ë³€í™˜\n      date.setMinutes(date.getMinutes() + date.getTimezoneOffset());\n\n      return date.toISOString().split(\"T\")[0]; // \"YYYY-MM-DD\" ë°˜í™˜\n    },\n    fetchDiaries() {\n      apiClient\n        .get(\"/diary\")\n        .then((response) => {\n          if (!response.data || !Array.isArray(response.data.data)) return;\n\n          const events = response.data.data.map(entry => ({\n            id: entry.id, // ìƒì„¸í˜ì´ì§€ ì´ë™ì„ ìœ„í•´ ID í¬í•¨\n            title: entry.title,\n            start: this.formatDate(entry.created_at), // âœ… KSTë¡œ ë³€í™˜ëœ ë‚ ì§œ ì‚¬ìš©\n            Prototype: entry.Prototype,\n          }));\n\n          this.calendarOptions = {\n            ...this.calendarOptions,\n            events: events,\n            timeZone: \"local\", // âœ… FullCalendarê°€ UTC ëŒ€ì‹  KST ê¸°ì¤€ìœ¼ë¡œ í‘œì‹œ\n            displayEventTime: false, // âœ… ì‹œê°„ í‘œì‹œ ë¹„í™œì„±í™”\n          };\n          this.$nextTick(() => {\n            if (this.$refs.calendar) {\n              this.$refs.calendar.getApi().refetchEvents();\n            }\n          });\n        })\n        .catch(error => console.error(\"Error fetching diaries:\", error.message));\n    },\n    // âœ… ì¼ì • í´ë¦­ ì‹œ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™\n    handleEventClick(info) {\n      console.log(\"Clicked event:\", info.event);\n      const eventId = info.event.id;\n      if (eventId) {\n        this.$router.push(`/edit/${eventId}`);\n      }\n    },\n    // âœ… ë‚ ì§œ í´ë¦­ ì‹œ ë™ì‘\n    handleDateClick(info) {\n      alert(`ğŸ“… ì„ íƒí•œ ë‚ ì§œ: ${info.dateStr}`);\n      console.log(\"Clicked Date Info:\", info);\n      \n      // ì„ íƒí•œ ë‚ ì§œë¡œ ë‹¤ì´ì–´ë¦¬ ì‘ì„± í˜ì´ì§€ ì´ë™\n      this.$router.push(`/create?date=${info.dateStr}`);\n    },\n  }\n};\n</script>"],"mappings":";;;uBACEA,mBAAA,CAEM,cADJC,YAAA,CAA0DC,uBAAA;IAA5CC,GAAG,EAAC,UAAU;IAAEC,OAAO,EAAEC,KAAA,CAAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}